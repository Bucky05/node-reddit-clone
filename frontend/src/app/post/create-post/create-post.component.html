<div class="container mt-4">
  <div class="row">
    <div class="col-md-9">
      <div class="create-post-card shadow-sm">
        <form class="post-form" [formGroup]="createPostForm" (ngSubmit)="createPost()">
          <!-- Heading -->
          <div class="create-post-heading">Create a New Post</div>
          <hr />

          <!-- Title -->
          <div class="form-group mb-3">
            <input
              type="text"
              formControlName="post_name"
              class="form-control"
              placeholder="Post title"
            />
          </div>

          <!-- URL -->
          <div class="form-group mb-3">
            <input
              type="text"
              formControlName="url"
              class="form-control"
              placeholder="Optional URL"
            />
          </div>

          <!-- Subreddit dropdown -->
          <div class="form-group mb-3">
            <select class="form-control" formControlName="subreddit_name">
              <option value="" selected disabled>Select a Subreddit</option>
              <option *ngFor="let subreddit of subreddits">
                {{ subreddit.subreddit_name }}
              </option>
            </select>
          </div>

          <!-- Description editor -->
          <div class="form-group mb-3">
            <editor
              apiKey="qxbsmpgq9tu43eieotg0ehgcwmar1rb9fio00hzr5h0g75ar"
              formControlName="description"
              [init]="{
                height: 300,
                menubar: false,
                plugins: [
                  'advlist autolink lists link image charmap preview anchor',
                  'searchreplace visualblocks code fullscreen',
                  'insertdatetime media table paste code help wordcount'
                ],
                toolbar:
                  'undo redo | formatselect | bold italic backcolor | \
                  alignleft aligncenter alignright alignjustify | \
                  bullist numlist outdent indent | removeformat | help'
              }"
            ></editor>
          </div>

          <!-- Buttons -->
          <!-- Buttons -->
<!-- Buttons -->
<div class="d-flex flex-column mt-3">
  <!-- AI options row -->
  <div class="ai-options mb-2">
    <button type="button" class="ai-btn" (click)="applyAi('Fix grammar and spelling')">
      ✨ Fix Spelling & Grammar
    </button>
    <button type="button" class="ai-btn" (click)="applyAi('Make this shorter and post ready')">
      ✨ Make Shorter & Post Ready
    </button>

    <!-- Custom prompt -->
    <input
      type="text"
      class="ai-input"
      formControlName="customPrompt"
      placeholder="Enter custom prompt..."
    />
    <button type="button" class="ai-btn" (click)="applyAi(createPostForm.get('customPrompt')?.value)">Apply</button>
  </div>

  <!-- Action buttons -->
  <div class="d-flex justify-content-end gap-2">
    <button type="button" (click)="discardPost()" class="btnDiscard">
      Discard
    </button>
    <button
      type="submit"
      class="btnCreatePost"
      [disabled]="!createPostForm.valid"
    >
      Post
    </button>
  </div>
</div>


        </form>
      </div>
    </div>

    <!-- Sidebar placeholder -->
    <div class="col-md-3">
      <!-- future sidebar widgets -->
    </div>
  </div>
</div>
